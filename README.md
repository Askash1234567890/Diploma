# Дипломная работа
Суть работы заключается в том, чтобы выбрать оптимальную форму магнита. Оптимальна она с точки зрения подавления побочных гармоник (6, 10, 14) разложения тангенсального магнитного поля на окружности 0.8 от апертуры.
У магнита имеются гиперпараметры формы такие как:
- ```Положение центра шима```;
- ```Точка обрыва гиперболы```;
- ```Высота гиперболы```;
- ```Радиус кривизны шима```;
- ```...```.

Пример формы полюсного наконечника:

<img 
src=https://github.com/Askash1234567890/Diplome/blob/main/pictures/рисунок_полюса.png
alt="Описание"
width="500"/>
## Этапы решения задачи:
- [x] Разобраться как строить геометрию в ```opera```;
- [x] Написать скрипт, который будет перебирать гиперпараметры задачи, получать значение *6, 10, 14* гармоник градиента и записывать ее в бд - собираем *тренировочные* данные;
- [x] Накопить ```1024``` тренировочных примера;
- [x] Обучить мл модель на регрессию 6, 10, 14 гармоник градиента по признакам (гиперпараметрам);
- [x] Использовать градиентный спуск, где в качестве варьируемых параметров выступают признаки, а веса модели неизменяемы (в качестве функции потерь использовать сумму 6, 10 и 14 гармоник градиента = результат ```model.predict``` регрессионной модели для каждой из задачи);
- [ ] Собрать ```opera``` в единую сборку;
- [ ] Попробовать обучение с подкреплением.

## Масштабирование решения
Если реализовать этот алгоритм на задаче с *двумя* степенями свободы формы, то он легко масштабируется на более сложную задачу с не столь очевидной формой. В рамках данного проекта произведена реализация для простого примера геометрии полюсных наконечников - параллелепипедов с фасками.
